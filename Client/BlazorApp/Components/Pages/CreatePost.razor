@page "/CreatePost"
@inject HttpClient Http
@inject NavigationManager Navigation
@rendermode InteractiveServer
<h3>Create Post</h3>

<EditForm Model="newPost" OnValidSubmit="HandleValidSubmit">
    <DataAnnotationsValidator />
    <ValidationSummary />

    <div>
        <label for="title">Title:</label>
        <InputText id="title" @bind-Value="newPost.Title" />
    </div>
    <div>
        <label for="content">Content:</label>
        <InputTextArea id="content" @bind-Value="newPost.Content" />
    </div>
    <button type="submit">Submit</button>
</EditForm>

@code {
    private Post newPost = new Post();

    private async Task HandleValidSubmit()
    {
        var response = await Http.PostAsJsonAsync("/posts", newPost);
        if (response.IsSuccessStatusCode)
        {
            Navigation.NavigateTo("/");
        }
        else
        {
            // Handle error
        }
    }

    public class Post
    {
        public string Title { get; set; }
        public string Content { get; set; }
    }
}